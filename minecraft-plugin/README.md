# TravHouse API Plugin

–ü–ª–∞–≥–∏–Ω –¥–ª—è Minecraft —Å–µ—Ä–≤–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç HTTP API –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ TravHouse.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **HTTP API —Å–µ—Ä–≤–µ—Ä** –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≤ –ø–ª–∞–≥–∏–Ω
- **–†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ** –±–µ–∑ RCON
- **–°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ –æ–Ω–ª–∞–π–Ω** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **TPS –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** —Å–µ—Ä–≤–µ—Ä–∞
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∏—Ä–∞—Ö** –∏ –∏—Ö —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
- **CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞** –¥–ª—è –≤–µ–±-–ø–∞–Ω–µ–ª–∏
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –ø–æ—Ä—Ç** API

## üìã API Endpoints

- `GET /api/status` - –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∏–≥—Ä–æ–∫–æ–≤
- `GET /api/players` - –°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ –æ–Ω–ª–∞–π–Ω
- `GET /api/performance` - TPS, –ø–∞–º—è—Ç—å, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- `GET /api/world` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∏—Ä–∞—Ö
- `GET /api/server-info` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ
- `GET /api/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API

## üîß –°–±–æ—Ä–∫–∞ –ø–ª–∞–≥–∏–Ω–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Java 17+
- Maven 3.6+

### –ö–æ–º–∞–Ω–¥—ã —Å–±–æ—Ä–∫–∏:

\`\`\`bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –ø–ª–∞–≥–∏–Ω–∞
cd minecraft-plugin

# –°–æ–±—Ä–∞—Ç—å –ø–ª–∞–≥–∏–Ω
mvn clean package

# –†–µ–∑—É–ª—å—Ç–∞—Ç: target/TravHouseAPI-1.0-SNAPSHOT.jar
\`\`\`

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ jar —Ñ–∞–π–ª** –≤ –ø–∞–ø–∫—É `plugins/` –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä** –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `/reload`
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** –≤ `plugins/TravHouseAPI/config.yml`

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (config.yml):
\`\`\`yaml
api:
  port: 8080          # –ü–æ—Ä—Ç –¥–ª—è API
  enabled: true       # –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å API
\`\`\`

### –ö–æ–º–∞–Ω–¥—ã –≤ –∏–≥—Ä–µ:
- `/thapi` - –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–ª–∞–≥–∏–Ω–µ
- `/thapi status` - –°—Ç–∞—Ç—É—Å HTTP —Å–µ—Ä–≤–µ—Ä–∞
- `/thapi port <–Ω–æ–º–µ—Ä>` - –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç API
- `/thapi reload` - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å—é

### –ò–∑–º–µ–Ω–∏—Ç–µ –≤ `admin-connected.js`:
\`\`\`javascript
const API_CONFIG = {
    baseURL: 'http://localhost:8080/api', // –ü–æ—Ä—Ç –ø–ª–∞–≥–∏–Ω–∞
    timeout: 10000,
    retryAttempts: 3
};
\`\`\`

## üìä –ü—Ä–∏–º–µ—Ä API –æ—Ç–≤–µ—Ç–æ–≤

### /api/status:
\`\`\`json
{
  "online": true,
  "players": {
    "online": 2,
    "max": 20
  },
  "version": "1.20.1-R0.1-SNAPSHOT",
  "server_type": "Paper",
  "uptime": 3600,
  "motd": "TravHouse Server",
  "source": "travhouse-plugin"
}
\`\`\`

### /api/players:
\`\`\`json
{
  "online": 2,
  "max": 20,
  "players": ["Steve", "Alex"]
}
\`\`\`

### /api/performance:
\`\`\`json
{
  "tps": 20.0,
  "mspt": 45.2,
  "memory_used": 1024,
  "memory_total": 2048,
  "memory_percent": 50.0,
  "source": "travhouse-plugin"
}
\`\`\`

## üõ°Ô∏è –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- `travhouse.admin` - –ö–æ–º–∞–Ω–¥—ã –ø–ª–∞–≥–∏–Ω–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: OP)
- `travhouse.api.access` - –î–æ—Å—Ç—É–ø –∫ API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: –≤—Å–µ)

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø–ª–∞–≥–∏–Ω–∞:
\`\`\`bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API
curl http://localhost:8080/api/health

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
curl http://localhost:8080/api/status
\`\`\`

### –õ–æ–≥–∏ –ø–ª–∞–≥–∏–Ω–∞:
- –°–º–æ—Ç—Ä–µ—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –§–∞–π–ª—ã –ª–æ–≥–æ–≤ –≤ `logs/` –ø–∞–ø–∫–µ —Å–µ—Ä–≤–µ—Ä–∞

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å RCON

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ RCON API, –∑–∞–º–µ–Ω–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

**–°—Ç–∞—Ä–æ–µ (RCON):**
\`\`\`javascript
baseURL: 'http://localhost:3000/api'
\`\`\`

**–ù–æ–≤–æ–µ (–ü–ª–∞–≥–∏–Ω):**
\`\`\`javascript
baseURL: 'http://localhost:8080/api'
\`\`\`

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–ª–∞–≥–∏–Ω–∞

- ‚úÖ **–¢–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - –ø—Ä—è–º–æ –∏–∑ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ **–ù–µ—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞** - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **–ë—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ** - –Ω–µ—Ç RCON –∑–∞–¥–µ—Ä–∂–µ–∫
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å —Ñ–æ—Ä–º–∞—Ç–æ–º –∫–æ–º–∞–Ω–¥
- ‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ endpoints

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç –Ω–µ –∑–∞–Ω—è—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
4. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–∏ Java